(function(a){a.fn.slidertron=function(b){var c=a.extend({selectorParent:a(this)},b);return a.slidertron(c)};a.slidertron=function(s){var L=a.extend({selectorParent:null,viewerSelector:null,reelSelector:null,slidesSelector:null,indicatorSelector:null,navNextSelector:null,navPreviousSelector:null,navFirstSelector:null,navLastSelector:null,navStopAdvanceSelector:null,navPlayAdvanceSelector:null,captionLineSelector:null,slideLinkSelector:null,slideCaptionSelector:null,speed:"fast",fadeInSpeed:"slow",navWrap:true,seamlessWrap:true,advanceDelay:0,advanceNavActiveClass:"active",viewerOffset:false,activeSlideClass:"active",disabledNavClass:"disabled",clickToNav:false,captionLines:0},s);var z=true,y=false,b=false,A=false,q=new Array(),e=false,D,G,w;var H,m,c,J,N,g,K,r,F,v,M,k=new Array();function B(P,R){var o;try{if(P==null){throw"is undefined"}if(L.selectorParent){o=L.selectorParent.find(P)}else{o=a(P)}if(o.length==0){throw"does not exist"}return o}catch(Q){if(R==true){alert('Error: Required selector "'+P+'" '+Q+".");z=false}}return null}function j(){if(L.advanceDelay==0){return}if(!y){C()}D=window.setTimeout(j,L.advanceDelay)}function h(){if(L.advanceDelay==0){return}if(F){F.addClass(L.advanceNavActiveClass)}if(v){v.removeClass(L.advanceNavActiveClass)}b=true;D=window.setTimeout(j,L.advanceDelay)}function d(){u()}function u(){if(L.advanceDelay==0){return}if(!b){return}if(F&&v){F.removeClass(L.advanceNavActiveClass);v.addClass(L.advanceNavActiveClass)}b=false;window.clearTimeout(D)}function l(o){if(L.advanceDelay==0){return}if(b){return}b=true;if(F&&v){v.removeClass(L.advanceNavActiveClass);F.addClass(L.advanceNavActiveClass)}if(o){D=window.setTimeout(j,L.advanceDelay)}else{j()}}function E(){p(G)}function t(){p(w)}function C(){if((A&&e<=w)||(!A&&e<w)){p(e+1)}else{if(L.navWrap||b){p(G)}}}function n(){if((A&&e>=G)||(!A&&e>G)){p(e-1)}else{if(L.navWrap){p(w)}}}function O(){if(L.disabledNavClass===false||L.navWrap===true){return}for(x in k){if(k[x]){k[x].removeClass(L.disabledNavClass).css("cursor","pointer")}}var o=new Array();if(e==G){o.push(N);o.push(r)}else{if(e==w){o.push(g);o.push(K)}}for(x in o){if(o[x]){o[x].addClass("disabled").css("cursor","default")}}}function p(Q){var o;if(y){return false}y=true;if(e===false){e=Q;c.css("left",-1*q[e].x);y=false;if(J){J.removeClass("active");a(J.get(e-G)).addClass("active")}if(L.activeSlideClass){q[e].object.addClass(L.activeSlideClass)}if(L.clickToNav&&!q[e].link){q[e].object.css("cursor","default")}if(M){if(q[e].captions){for(o in M){M[o].html(q[e].captions[o])}}else{for(o in M){M[o].html("")}}}O()}else{var S,P,T,R;if(L.activeSlideClass){q[e].object.removeClass(L.activeSlideClass)}if(L.clickToNav){q[e].object.css("cursor","pointer")}P=q[e].x;T=q[Q].x;S=P-T;if(q[Q].realIndex!==false){R=q[Q].realIndex}else{R=Q}if(J){J.removeClass("active");a(J.get(R-G)).addClass("active")}if(M){if(q[R].captions){for(o in M){M[o].html(q[R].captions[o])}}else{for(o in M){M[o].html("")}}}c.animate({left:"+="+S},L.speed,"swing",function(){e=Q;if(q[e].realIndex!==false){e=q[e].realIndex;c.css("left",-1*q[e].x)}if(L.activeSlideClass){q[e].object.addClass(L.activeSlideClass)}if(L.clickToNav&&!q[e].link){q[e].object.css("cursor","default")}O();y=false})}}function f(){var U,W,Y;m=B(L.viewerSelector,true);c=B(L.reelSelector,true);H=B(L.slidesSelector,true);J=B(L.indicatorSelector,false);W=new Array();for(i=1;i<=L.captionLines;i++){Y=L.captionLineSelector;if(L.captionLines>1){Y=Y+i}U=B(Y,false);if(U==null){W=null;break}W.push(U)}M=W;N=B(L.navFirstSelector);g=B(L.navLastSelector);K=B(L.navNextSelector);r=B(L.navPreviousSelector);F=B(L.navStopAdvanceSelector);v=B(L.navPlayAdvanceSelector);if(N){k.push(N)}if(g){k.push(g)}if(K){k.push(K)}if(r){k.push(r)}if(L.viewerOffset==false&&L.clickToNav){alert("Error: clickToNav only works when viewerOffset is in use.");return false}if(J){if(J.length!=H.length){alert("Error: Indicator needs to have as many items as there are slides.");return false}}if(z==false){alert("Error: One or more configuration errors detected. Aborting.");return false}if(L.viewerOffset==false){L.viewerOffset=0}m.css("position","relative");m.css("overflow","hidden");c.css("position","absolute");c.css("left",0);c.css("top",0);c.hide();var S=0,P=H.length;if(L.seamlessWrap){A=true;var V=H.eq(0);var T=H.eq(Math.min(P-1,1));var Q=H.eq(Math.max(P-2,0));var R=H.eq(Math.max(P-1,0));var o=V;var X=R;Q.clone().insertBefore(o);R.clone().insertBefore(o);T.clone().insertAfter(X);V.clone().insertAfter(X);H=B(L.slidesSelector,true);G=2;w=H.length-3}else{G=0;w=P-1}H.each(function(ab){var ag=a(this),af=false,aa=new Array();var Z,ad,ac,ae;if(L.clickToNav){ag.css("cursor","pointer").click(function(ah){if(e!=ab){ah.stopPropagation();if(b){d()}p(ab)}})}var Z=ag.find(L.slideLinkSelector);if(Z.length>0){af=Z.attr("href");Z.remove();ag.css("cursor","pointer").click(function(ah){if(e==ab){window.location=af}})}for(ad=1;ad<=L.captionLines;ad++){ae=L.slideCaptionSelector;if(L.captionLines>1){ae=ae+ad}ac=ag.find(ae);if(ac.length>0){aa.push(ac.html());ac.remove()}}if(aa.length!=L.captionLines){aa=false}q[ab]={object:ag,x:S-L.viewerOffset,realIndex:false,link:af,captions:aa};ag.css("position","absolute");ag.css("left",S);ag.css("top",0);S+=ag.width()});if(A){q[G-1].realIndex=w;q[w+1].realIndex=G}if(J){J.each(function(){var Z=a(this);Z.css("cursor","pointer").click(function(aa){aa.preventDefault();if(y){return false}if(b){d()}p(Z.index()+G)})})}if(N){N.click(function(Z){Z.preventDefault();if(y){return false}if(b){d()}E()})}if(g){g.click(function(Z){Z.preventDefault();if(y){return false}if(b){d()}t()})}if(K){K.click(function(Z){Z.preventDefault();if(y){return false}if(b){d()}C()})}if(r){r.click(function(Z){Z.preventDefault();if(y){return false}if(b){d()}n()})}if(F){F.click(function(Z){Z.preventDefault();if(y){return false}if(!b){return false}u()})}if(v){v.click(function(Z){Z.preventDefault();if(y){return false}if(b){return false}l()})}c.fadeIn(L.fadeInSpeed);return true}var I=(L.selectorParent?L.selectorParent:L.viewerSelector);if(I){I.bind("previousSlide",function(){if(b){d()}n()}).bind("nextSlide",function(){if(b){d()}C()}).bind("firstSlide",function(){if(b){d()}E()}).bind("lastSlide",function(){if(b){d()}t()})}a().ready(function(){if(f()){h();E()}})}})(jQuery);